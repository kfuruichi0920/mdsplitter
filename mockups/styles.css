:root{
  --bg: #ffffff;
  --subbg: #f9fafb;
  --border: #d1d5db;
  --text: #111827;
  --accent: #3b82f6;
}
*{box-sizing:border-box}
body{font-family:system-ui, -apple-system, 'Segoe UI', Roboto, 'Hiragino Kaku Gothic ProN', 'Noto Sans JP', sans-serif;color:var(--text);margin:0;background:var(--subbg);}
.menubar{height:32px;background:#ffffff;border-bottom:1px solid var(--border);display:flex;align-items:center;padding:0 12px;font-size:13px}
.toolbar{height:40px;background:var(--subbg);display:flex;align-items:center;padding:0 12px;border-bottom:1px solid var(--border);gap:12px}
.toolbar .toolbar-group{display:flex;gap:8px;align-items:center}
.toolbar .right{margin-left:auto}
.container{display:flex;min-height:calc(100vh - 96px)}
.sidebar{width:256px;background:#fff;padding:12px;border-right:1px solid var(--border);display:flex;flex-direction:column;gap:12px}
.sidebar h4{margin:4px 0 8px}
.explorer ul{list-style:none;padding:0;margin:0}
.explorer li.file{padding:6px;border-radius:6px}
.explorer li.file.active{background:linear-gradient(90deg,#eff6ff,#f8fafc)}
.unsaved{color:#f97316;margin-left:6px}
.search input{width:100%;padding:8px;border:1px solid var(--border);border-radius:6px}
.main-area{flex:1;display:flex;flex-direction:column;gap:8px;padding:12px;position:relative}
.card-panel{flex:1;background:#fff;border:1px solid var(--border);border-radius:6px;display:flex;flex-direction:column;overflow:hidden}
.tabbar{height:36px;border-bottom:1px solid var(--border);display:flex;align-items:center;padding:0 8px;background:var(--subbg)}
.tabs{display:flex;gap:6px}
.tab{background:transparent;border:0;padding:6px 10px;border-radius:6px}
.tab.active{background:#fff;border-bottom:2px solid var(--accent)}
.panel-toolbar{height:44px;border-bottom:1px solid var(--border);display:flex;align-items:center;justify-content:space-between;padding:8px}
.cards{padding:12px;overflow:auto;flex:1;display:flex;flex-direction:column;gap:10px;position:relative}
.card{display:flex;align-items:flex-start;gap:8px;padding:8px;border-radius:8px;border:1px solid #eee;background:#fff;transition:background .15s}
.card.selected{background:#eff6ff;border-left:4px solid var(--accent)}
.card .connector{width:28px;display:flex;align-items:center;justify-content:center;color:#374151}
.card .connector.right{margin-left:auto}
.card-body{flex:1}
.card-head{display:flex;align-items:center;gap:8px;font-size:14px}
.card-text{margin-top:6px;color:#374151}
.card-meta{margin-top:6px;font-size:12px;color:#6b7280}
.badge{padding:2px 8px;border-radius:12px;font-size:11px;background:#f3f4f6}
.badge.review{background:#fef3c7;color:#92400e}
.badge.approved{background:#d1fae5;color:#065f46}
.card.compact .card-text,.card.compact .card-meta{display:none}
.card .truncate{display:inline-block;max-width:60ch;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
.log-area{height:128px;background:#fff;border:1px solid var(--border);border-radius:6px;padding:8px;overflow:auto}
.log-header{display:flex;justify-content:space-between;align-items:center;font-weight:600}
.log{background:#f9fafb;padding:8px;border-radius:6px;margin:8px 0 0;font-family:monospace;font-size:12px}
.statusbar{height:24px;background:#fff;border-top:1px solid var(--border);display:flex;align-items:center;justify-content:space-between;padding:0 12px;font-size:12px}

/* SVG connectors */
.connectors{position:absolute;left:0;top:0;pointer-events:none}
.connectors.hidden{display:none}

/* compact mode */
.cards.compact-mode .card{height:36px;align-items:center}
.cards.compact-mode .card .card-body{display:flex;align-items:center}

@media (max-width:800px){
  .sidebar{display:none}
  .container{min-height:calc(100vh - 96px)}
}
