### ãƒ•ã‚§ãƒ¼ã‚º3 P3-00ã€œP3-04 å®Ÿè£… (2025-11-09)
- `src/main/documentLoader.ts:1-220` ã«æ–‡æ›¸ãƒ­ãƒ¼ãƒ‰APIã‚’è¿½åŠ ã€‚OpenDialogçµŒç”±ã§é¸æŠã—ãŸ`.txt/.md`ã®ã‚µã‚¤ã‚ºåˆ¤å®šï¼ˆ10MBè­¦å‘Š/200MBä¸­æ–­ï¼‰ã€UTF-8/UTF-16/Shift_JIS(CP932)æ¤œå‡ºã€æ”¹è¡Œæ­£è¦åŒ–ã€`DocumentLoadError`åˆ†é¡ã‚’å®Ÿè£…ã—ã€IPC `document:pickSource`ãƒ»`preload`ãƒ»`global.d.ts` ã‚’é †æ¬¡æ‹¡å¼µï¼ˆ`src/main/main.ts:140-230`,`src/main/preload.ts:16-90`,`src/renderer/global.d.ts:1-40`ï¼‰ã€‚ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆ `src/main/__tests__/documentLoader.test.ts:1-110` ã§BOM/CP932/é–¾å€¤/ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ã‚’æ¤œè¨¼ã€‚
- `src/shared/conversion/{types,ruleEngine,llmAdapter,pipeline}.ts:1-120` ã§å¤‰æ›å…±é€šå‹ãƒ»å›ºå®šãƒ«ãƒ¼ãƒ«ã‚¨ãƒ³ã‚¸ãƒ³ãƒ»LLMã‚¢ãƒ€ãƒ—ã‚¿æŠ½è±¡ãƒ»æˆ¦ç•¥ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã‚’æ•´å‚™ã€‚Markdown/ç•ªå·ä»˜ããƒ†ã‚­ã‚¹ãƒˆã®éšå±¤ã¨å…„å¼Ÿãƒªãƒ³ã‚¯ã‚’ç”Ÿæˆã—ã€ã‚¹ã‚¿ãƒ–LLMã¯`review`ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã§çµæœã¨ãƒˆãƒ¼ã‚¯ãƒ³ä½¿ç”¨é‡ã‚’è¿”å´ã€‚ãƒ†ã‚¹ãƒˆ `src/shared/conversion/__tests__/ruleEngine.test.ts:1-40`ï¼ˆã‚¹ãƒŠãƒƒãƒ—ã‚·ãƒ§ãƒƒãƒˆå«ã‚€ï¼‰ã¨ `__tests__/llmAdapter.test.ts:1-20` ã‚’è¿½åŠ ã€‚
- `src/renderer/App.tsx:390-1540` ã«ã‚«ãƒ¼ãƒ‰å¤‰æ›ãƒ•ãƒ­ãƒ¼ã‚’çµ±åˆã€‚ğŸ“‚ãƒœã‚¿ãƒ³ã‹ã‚‰ `ConversionModal`ï¼ˆ`src/renderer/components/ConversionModal.tsx:1-160`ï¼‰ã‚’è¡¨ç¤ºã—ã€ãƒ•ã‚¡ã‚¤ãƒ«ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ãƒ»ã‚µã‚¤ã‚ºè­¦å‘ŠåŒæ„ãƒ»å›ºå®šãƒ«ãƒ¼ãƒ«/LLMåˆ‡æ›¿ãƒ»å¤‰æ›å®Ÿè¡Œã‚’æä¾›ã€‚å¤‰æ›çµæœã¯ `workspaceStore.createUntitledTab` ã§æœªä¿å­˜ã‚¿ãƒ–ã¨ã—ã¦é–‹ãã€æˆåŠŸ/è­¦å‘Š/å¤±æ•—ã‚’é€šçŸ¥ã€‚ã‚¹ã‚¿ã‚¤ãƒ«ã¯ `src/renderer/styles.css:600-760` ã«ãƒ¢ãƒ¼ãƒ€ãƒ«/ãƒœã‚¿ãƒ³ç”¨ã‚¯ãƒ©ã‚¹ã‚’è¿½åŠ ã€å‹ã¯ `src/renderer/types/conversion.ts:1-20` ã«å®šç¾©ã€‚ãƒ„ãƒ¼ãƒ«ãƒãƒ¼ã€`window.app.document` ãƒ¢ãƒƒã‚¯ (`src/renderer/App.test.tsx:30-110`) ã‚’æ›´æ–°ã€‚
- `doc/software_detail_design.md:1-200` ã¨ `task/task_all.md:50-90` ã‚’æ›´æ–°ã—ã€ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã¸æ–°ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã¨å®Ÿè£…çŠ¶æ³ï¼ˆUC-02/03/04ï¼‰ã‚’åæ˜ ã€P3-00ã€œP3-04 ã‚’å®Œäº†ãƒãƒ¼ã‚¯ã€‚
- å®Ÿè¡Œãƒ†ã‚¹ãƒˆ: `npm run test -- documentLoader`, `npx jest --runInBand src/shared/conversion/__tests__/ruleEngine.test.ts --updateSnapshot`, `npx jest --runInBand src/shared/conversion/__tests__/llmAdapter.test.ts` ã‚’å®Ÿæ–½ã—ã€æ–°è¦ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã®ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆã‚’ç·‘ã«ã—ãŸã€‚`npx jest --runInBand src/renderer/App.test.tsx` ã¯æ—¢å­˜ã® `CardPanel.tsx` const assertion ã‚¨ãƒ©ãƒ¼ã§å¤±æ•—ã™ã‚‹ãŸã‚æœªè§£æ±ºï¼ˆéå»ã‹ã‚‰ã®æ—¢çŸ¥èª²é¡Œï¼‰ã€‚

### ãƒ•ã‚§ãƒ¼ã‚º3 æ¬¡ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ (å…¥åŠ›ãƒ¯ãƒ¼ã‚¯ã‚¹ãƒšãƒ¼ã‚¹é€£æº) & P3-05 (2025-11-09)
- `src/main/main.ts:150-260` ã« `_input/` ã¸ã®ã‚¤ãƒ³ãƒãƒ¼ãƒˆãƒ˜ãƒ«ãƒ‘ãƒ¼ã‚’è¿½åŠ ã€‚`document:pickSource` æˆåŠŸæ™‚ã«é¸æŠå…ƒãƒ•ã‚¡ã‚¤ãƒ«ã‚’ãƒ¯ãƒ¼ã‚¯ã‚¹ãƒšãƒ¼ã‚¹ã¸ã‚³ãƒ”ãƒ¼ã—ã€çµæœã« `workspaceFileName/workspacePath` ã‚’å«ã‚ã‚‹ã“ã¨ã§ã‚¨ã‚¯ã‚¹ãƒ—ãƒ­ãƒ¼ãƒ©ä¸€è¦§ã‚’å³æ™‚æ›´æ–°ã€‚åŒæ™‚ã« `global.d.ts`/`preload.ts` ã‚’æ‹¡å¼µã€‚
- `src/renderer/App.tsx:390-3100` ã‚’æ‹¡å¼µã—ã€`ConversionModal` ã«é€²æ—ç‡ãƒ»è­¦å‘ŠåŒæ„ãƒ»ã‚¤ãƒ³ãƒãƒ¼ãƒˆæƒ…å ±ã‚’è¡¨ç¤ºã€‚`AbortController` ã‚’åˆ©ç”¨ã—ãŸã€Œå¤‰æ›ã‚’ä¸­æ–­ã€ãƒãƒ³ãƒ‰ãƒ©ã¨ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ãƒãƒ¼é€²æ—è¡¨ç¤ºã‚’å®Ÿè£…ã—ã€ã‚­ãƒ£ãƒ³ã‚»ãƒ«æ™‚ã¯é€šçŸ¥/ãƒ­ã‚°ã«è¨˜éŒ²ã€‚å¤‰æ›æˆåŠŸæ™‚ã¯ `workspace.saveCardFile` ã‚’é€šã˜ã¦ `_out/` ã¸ `${base}_${strategy}_${timestamp}.json` ã‚’è‡ªå‹•ä¿å­˜ã—ã€ã‚¿ãƒ–åãƒ»ä¿å­˜ãƒ•ãƒ©ã‚°ã‚’å³æ™‚æ›´æ–°ã€‚
- `src/renderer/components/ConversionModal.tsx:1-220`/`src/renderer/styles.css:600-780` ã«é€²æ—ãƒãƒ¼ã€ã‚­ãƒ£ãƒ³ã‚»ãƒ«ãƒœã‚¿ãƒ³æ–‡è¨€åˆ‡æ›¿ã€_input ä¿ç®¡åè¡¨ç¤ºã‚’è¿½åŠ ã€‚`src/renderer/types/conversion.ts` ã«é€²æ—/ã‚­ãƒ£ãƒ³ã‚»ãƒ«çŠ¶æ…‹ã‚’ä¿æŒã™ã‚‹å‹ã‚’è¿½åŠ ã€‚
- å¤‰æ›ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã‚’ `AbortSignal`/`onProgress` å¯¾å¿œ (`src/shared/conversion/pipeline.ts`) ã¨ã—ã€LLMã‚¹ã‚¿ãƒ– (`llmAdapter.ts`) ã‚‚ã‚·ã‚°ãƒŠãƒ«ä¸­æ–­ã‚’ã‚µãƒãƒ¼ãƒˆã€‚æ–°è¦ãƒ†ã‚¹ãƒˆ `src/shared/conversion/__tests__/pipeline.test.ts` ã¨ `llmAdapter.test.ts` ã®ä¸­æ–­ã‚±ãƒ¼ã‚¹ã‚’è¿½åŠ ã€‚`ConversionModal` ã‹ã‚‰ã®ã‚­ãƒ£ãƒ³ã‚»ãƒ«ã§ç¢ºå®Ÿã« `AbortError` ã‚’å—ã‘å–ã‚Œã‚‹ã“ã¨ã‚’ç¢ºèªã€‚
- `doc/software_detail_design.md` ã« `_input/_out` é€£æºã¨é€²æ—/ã‚­ãƒ£ãƒ³ã‚»ãƒ«å®Ÿè£…çŠ¶æ³ã‚’è¿½è¨˜ã—ã€`task/task_all.md` ã® P3-05 ã‚’å®Œäº†ã¸æ›´æ–°ã€‚
- ãƒ†ã‚¹ãƒˆ: `npm run test -- documentLoader`, `npx jest --runInBand src/shared/conversion/__tests__/ruleEngine.test.ts`, `npx jest --runInBand src/shared/conversion/__tests__/llmAdapter.test.ts`, `npx jest --runInBand src/shared/conversion/__tests__/pipeline.test.ts` ã‚’å®Ÿè¡Œã€‚æ—¢çŸ¥ã® `CardPanel` const assertion ã§ `App.test.tsx` ã¯å¼•ãç¶šãå¤±æ•—ã™ã‚‹ãŸã‚ä¿ç•™ã€‚
