@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  html {
    @apply h-full;
  }

  body {
    @apply h-full bg-slate-50 text-sm text-slate-900 transition-colors duration-300 ease-out dark:bg-slate-950 dark:text-slate-100;
  }

  #root {
    @apply h-full;
  }

  button,
  input {
    @apply font-sans;
  }
}

@layer components {
  .app-shell {
    @apply grid min-h-screen grid-rows-[28px_36px_minmax(0,1fr)_22px] bg-slate-50 text-slate-900 transition-colors duration-300 ease-out dark:bg-slate-950 dark:text-slate-100;
  }

  .menu-bar {
    @apply flex items-center gap-2 border-b border-slate-200 bg-slate-100 px-3 text-xs font-medium dark:border-slate-800 dark:bg-slate-900;
  }

  .menu-bar__items {
    @apply flex gap-2;
  }

  .menu-bar__item {
    @apply rounded-md px-2.5 py-1 text-xs font-medium text-slate-700 transition-colors hover:bg-blue-100 hover:text-blue-700 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-blue-500 dark:text-slate-100 dark:hover:bg-slate-800 dark:hover:text-blue-300;
  }

  .top-toolbar {
    @apply flex items-center gap-3 border-b border-slate-200 bg-slate-100 px-3 py-1 text-xs dark:border-slate-800 dark:bg-slate-900;
  }

  .toolbar-group {
    @apply flex items-center gap-1.5 border-r border-slate-200 pr-3 dark:border-slate-700;
  }

  .toolbar-group:last-of-type {
    @apply border-r-0 pr-0;
  }

  .toolbar-group--right {
    @apply gap-2;
  }

  .toolbar-spacer {
    @apply flex-1 border-b border-transparent;
  }

  .toolbar-button {
    @apply inline-flex items-center gap-1.5 rounded-md bg-blue-100 px-2.5 py-1 text-xs font-medium text-blue-700 transition-colors hover:bg-blue-200 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-blue-500 dark:bg-slate-800 dark:text-blue-200 dark:hover:bg-slate-700;
  }

  .toolbar-button:disabled {
    @apply cursor-not-allowed opacity-60 hover:bg-blue-100 dark:hover:bg-slate-800;
  }

  .workspace {
    @apply grid min-h-0 bg-gradient-to-br from-slate-50 via-slate-100 to-slate-200 dark:from-slate-950 dark:via-slate-900 dark:to-slate-900;
  }

  .workspace__content {
    @apply grid min-h-0;
  }

  .sidebar {
    @apply flex min-w-0 flex-col gap-3 overflow-hidden border-r border-slate-200 bg-white px-3 py-3 shadow-inner dark:border-slate-800 dark:bg-slate-900;
  }

  .sidebar__section {
    @apply flex flex-col gap-1.5;
  }

  .sidebar__section--search {
    @apply flex flex-col gap-1.5;
  }

  .sidebar__section-toggle {
    @apply flex items-center gap-2 rounded-md px-2 py-1 text-xs font-semibold uppercase tracking-wide text-slate-500 transition-colors hover:bg-slate-100 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-blue-500 dark:text-slate-300 dark:hover:bg-slate-800;
  }

  .sidebar__toggle-icon {
    @apply text-slate-400 dark:text-slate-500;
  }

  .sidebar__header {
    @apply text-xs font-semibold uppercase tracking-wide text-current;
  }

  .sidebar__content {
    @apply mt-2 flex flex-col gap-1.5;
  }

  .sidebar__content--search {
    @apply border-t border-slate-200 pt-2 dark:border-slate-700;
  }

  .sidebar__content--collapsed {
    @apply hidden;
  }

  .sidebar__tree,
  .sidebar__tree ul {
    @apply m-0 list-none pl-3;
  }

  .sidebar__tree > li {
    @apply mb-0.5;
  }

  .sidebar__tree li {
    @apply cursor-pointer rounded-md px-2 py-1 text-xs text-slate-600 transition-colors hover:bg-blue-100 hover:text-blue-700 dark:text-slate-200 dark:hover:bg-slate-800 dark:hover:text-blue-300;
  }

  .sidebar__label {
    @apply text-[0.65rem] font-medium uppercase tracking-wide text-slate-400 dark:text-slate-500;
  }

  .sidebar__search {
    @apply rounded-md border border-slate-200 bg-white px-2.5 py-1.5 text-xs text-slate-700 shadow-sm focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-blue-500 dark:border-slate-700 dark:bg-slate-800 dark:text-slate-100;
  }

  .workspace__separator {
    @apply relative bg-blue-200 transition-colors dark:bg-slate-700;
  }

  .workspace__separator::after {
    content: '';
    @apply absolute inset-0 bg-blue-300 opacity-0 transition-opacity dark:bg-slate-600;
  }

  [data-dragging='true'] .workspace__separator::after,
  .workspace__separator:hover::after,
  .workspace__separator:focus-visible::after {
    @apply opacity-100;
  }

  .workspace__separator--vertical {
    @apply w-2 cursor-col-resize;
  }

  .workspace__separator--horizontal {
    @apply h-1.5 cursor-row-resize;
  }

  .panels {
    @apply min-h-0 overflow-hidden bg-transparent;
  }

  .panel-split {
    @apply flex h-full w-full overflow-hidden bg-transparent;
  }

  .panel-split--horizontal {
    flex-direction: row;
  }

  .panel-split--vertical {
    flex-direction: column;
  }

  .panel-split__child {
    @apply flex min-h-0 min-w-0 overflow-hidden p-1;
  }

  .panel-leaf {
    @apply relative flex h-full w-full min-h-0 min-w-0;
  }

  .panel-leaf--active .split-node {
    @apply ring-2 ring-blue-400 dark:ring-blue-500;
  }

  .panel-leaf__close {
    @apply absolute right-2 top-2 hidden h-6 w-6 items-center justify-center rounded-full bg-slate-200 text-xs font-semibold text-slate-600 hover:bg-slate-300 dark:bg-slate-700 dark:text-slate-200 dark:hover:bg-slate-600;
  }

  .panel-leaf--active .panel-leaf__close,
  .panel-leaf:hover .panel-leaf__close {
    @apply flex;
  }

  .panel-divider {
    @apply flex-none bg-slate-300 transition-colors dark:bg-slate-700;
  }

  .panel-divider--horizontal {
    @apply w-2 cursor-col-resize;
  }

  .panel-divider--vertical {
    @apply h-2 cursor-row-resize;
  }

  .split-node {
    @apply flex min-h-0 flex-col overflow-hidden rounded-lg border border-slate-200 bg-white shadow-md dark:border-slate-800 dark:bg-slate-900/90;
  }

  .tab-bar {
    @apply flex items-center gap-1.5 overflow-x-auto border-b border-slate-200 bg-slate-100 px-2 py-1.5 text-xs dark:border-slate-700 dark:bg-slate-900;
  }

  .tab-bar__tab {
    @apply rounded-md px-2.5 py-1 text-xs font-medium text-slate-600 transition-colors hover:bg-blue-100 hover:text-blue-700 dark:text-slate-200 dark:hover:bg-slate-800 dark:hover:text-blue-300;
  }

  .tab-bar__tab--active {
    @apply bg-blue-500 text-white shadow-sm dark:bg-blue-500;
  }

  .panel-header {
    @apply flex items-center justify-between border-b border-slate-200 bg-white px-3 py-2 text-xs font-medium dark:border-slate-700 dark:bg-slate-900;
  }

  .panel-toolbar {
    @apply flex flex-wrap items-center gap-2 border-b border-slate-200 bg-white px-3 py-1.5 text-xs dark:border-slate-700 dark:bg-slate-900;
  }

  .panel-toolbar__group {
    @apply flex items-center gap-1.5;
  }

  .panel-toolbar__button {
    @apply rounded-md bg-slate-100 px-2.5 py-1 text-xs font-medium text-slate-700 transition-colors hover:bg-blue-100 hover:text-blue-700 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-blue-500 dark:bg-slate-800 dark:text-slate-200 dark:hover:bg-slate-700;
  }

  .panel-toolbar__input {
    @apply rounded-md border border-slate-200 bg-white px-2.5 py-1 text-xs text-slate-700 shadow-sm focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-blue-500 dark:border-slate-700 dark:bg-slate-800 dark:text-slate-100;
  }

  .panel-toolbar__spacer {
    @apply flex-1;
  }

  .panel-toolbar__meta {
    @apply text-[0.65rem] text-slate-500 dark:text-slate-400;
  }

  .panel-cards {
    @apply flex flex-col gap-2.5 overflow-auto bg-slate-50 p-3 dark:bg-slate-950;
  }

  .card {
    @apply flex cursor-pointer select-none flex-col gap-2 rounded-lg border border-transparent bg-white/80 p-3 shadow-sm transition-all hover:border-blue-200 hover:shadow-md focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-blue-500 dark:bg-slate-900/80;
  }

  .card--active {
    @apply border-l-4 border-blue-500 bg-blue-50/70 shadow-lg dark:bg-slate-800/80;
  }

  .card__header {
    @apply flex items-center gap-2 text-xs font-semibold;
  }

  .card__connector {
    @apply text-base text-slate-400 dark:text-slate-600;
  }

  .card__connector--active {
    @apply text-blue-400;
  }

  .card__icon {
    @apply text-sm;
  }

  .card__status {
    @apply rounded-full px-2.5 py-0.5 text-[0.65rem] font-semibold uppercase tracking-wide;
  }

  .card__status--approved {
    @apply bg-emerald-100 text-emerald-600 dark:bg-emerald-500/20 dark:text-emerald-300;
  }

  .card__status--draft {
    @apply bg-slate-200 text-slate-600 dark:bg-slate-600/30 dark:text-slate-200;
  }

  .card__status--review {
    @apply bg-amber-100 text-amber-600 dark:bg-amber-500/20 dark:text-amber-200;
  }

  .card__status--deprecated {
    @apply bg-rose-100 text-rose-600 dark:bg-rose-500/20 dark:text-rose-200;
  }

  .card__title {
    @apply flex-1 text-sm font-semibold text-slate-800 dark:text-slate-100;
  }

  .card__body {
    @apply text-xs leading-relaxed text-slate-600 dark:text-slate-200;
  }

  .card__footer {
    @apply text-[0.65rem] text-slate-400 dark:text-slate-500;
  }

  .panel-placeholder {
    @apply flex flex-1 items-center justify-center bg-slate-100 px-3 py-6 text-xs text-slate-500 dark:bg-slate-900 dark:text-slate-400;
  }

  .log-area {
    @apply flex flex-col border-t border-slate-200 bg-white shadow-inner dark:border-slate-800 dark:bg-slate-900;
  }

  .log-area__header {
    @apply flex items-center justify-between border-b border-slate-200 px-3 py-1.5 text-xs font-semibold dark:border-slate-800;
  }

  .log-area__clear {
    @apply rounded-md bg-rose-100 px-2.5 py-1 text-xs font-medium text-rose-600 transition-colors hover:bg-rose-200 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-rose-500 dark:bg-rose-500/20 dark:text-rose-200;
  }

  .log-area__body {
    @apply flex-1 overflow-auto bg-slate-50 px-3 py-2.5 font-mono text-[0.7rem] leading-relaxed text-slate-600 dark:bg-slate-950 dark:text-slate-300;
  }

  .status-bar {
    @apply flex items-center justify-between gap-3 border-t border-slate-200 bg-slate-100 px-3 text-[0.65rem] uppercase tracking-wide text-slate-500 dark:border-slate-800 dark:bg-slate-900 dark:text-slate-400;
  }

  .status-bar__section {
    @apply flex items-center gap-4;
  }

  .status-bar__section--right {
    @apply justify-end;
  }

  .notification-center {
    @apply fixed right-4 top-16 z-50 flex w-80 flex-col gap-2;
  }

  .notification {
    @apply flex items-start gap-2 rounded-lg border px-3 py-2 text-xs shadow-lg backdrop-blur;
  }

  .notification__message {
    @apply flex-1 leading-normal;
  }

  .notification__close {
    @apply rounded-full px-2 py-0.5 text-xs font-semibold transition-colors hover:bg-white/20 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-blue-400;
  }
}
