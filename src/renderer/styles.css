@tailwind base;
@tailwind components;
@tailwind utilities;

/**
 * テーマ設定から動的に注入されるCSS変数
 * - App.tsx の applyThemeColors() / applySplitterWidth() により設定される
 * - カスタムコンポーネントで var(--theme-*) として参照可能
 *
 * 利用可能な変数:
 *   --theme-background
 *   --theme-foreground
 *   --theme-border
 *   --theme-primary
 *   --theme-secondary
 *   --theme-card-background
 *   --theme-card-border
 *   --theme-connector-active
 *   --theme-connector-inactive
 *   --theme-splitter-width
 */

@layer base {
  html {
    @apply h-full;
  }

  body {
    @apply h-full bg-slate-50 text-sm text-slate-900 transition-colors duration-300 ease-out dark:bg-slate-950 dark:text-slate-100;
  }

  #root {
    @apply h-full;
  }

  button,
  input {
    @apply font-sans;
  }
}

@layer components {
  .app-shell {
    @apply grid min-h-screen grid-rows-[28px_36px_minmax(0,1fr)_22px] bg-slate-50 text-slate-900 transition-colors duration-300 ease-out dark:bg-slate-950 dark:text-slate-100;
  }

  .menu-bar {
    @apply flex items-center gap-2 border-b border-slate-200 bg-slate-100 px-3 text-xs font-medium dark:border-slate-800 dark:bg-slate-900;
  }

  .menu-bar__items {
    @apply flex gap-2;
  }

  .menu-bar__item {
    @apply rounded-md px-2.5 py-1 text-xs font-medium text-slate-700 transition-colors hover:bg-blue-100 hover:text-blue-700 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-blue-500 dark:text-slate-100 dark:hover:bg-slate-800 dark:hover:text-blue-300;
  }

  .top-toolbar {
    @apply flex items-center gap-3 border-b border-slate-200 bg-slate-100 px-3 py-1 text-xs dark:border-slate-800 dark:bg-slate-900;
  }

  .toolbar-group {
    @apply flex items-center gap-1.5 border-r border-slate-200 pr-3 dark:border-slate-700;
  }

  .toolbar-group:last-of-type {
    @apply border-r-0 pr-0;
  }

  .toolbar-group--right {
    @apply gap-2;
  }

  .toolbar-spacer {
    @apply flex-1 border-b border-transparent;
  }

  .toolbar-button {
    @apply inline-flex items-center gap-1.5 rounded-md bg-blue-100 px-2.5 py-1 text-xs font-medium text-blue-700 transition-colors hover:bg-blue-200 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-blue-500 dark:bg-slate-800 dark:text-blue-200 dark:hover:bg-slate-700;
  }

  .toolbar-button:disabled {
    @apply cursor-not-allowed opacity-60 hover:bg-blue-100 dark:hover:bg-slate-800;
  }

  .workspace {
    @apply grid min-h-0 bg-gradient-to-br from-slate-50 via-slate-100 to-slate-200 dark:from-slate-950 dark:via-slate-900 dark:to-slate-900;
  }

  .workspace__content {
    @apply grid min-h-0;
  }

  .sidebar {
    @apply flex min-w-0 flex-col gap-3 overflow-hidden border-r border-slate-200 bg-white px-3 py-3 shadow-inner dark:border-slate-800 dark:bg-slate-900;
  }

  .sidebar__section {
    @apply flex flex-col gap-1.5;
  }

  .sidebar__section--search {
    @apply flex flex-col gap-1.5;
  }

  .sidebar__section-toggle {
    @apply flex items-center gap-2 rounded-md px-2 py-1 text-xs font-semibold uppercase tracking-wide text-slate-500 transition-colors hover:bg-slate-100 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-blue-500 dark:text-slate-300 dark:hover:bg-slate-800;
  }

  .sidebar__toggle-icon {
    @apply text-slate-400 dark:text-slate-500;
  }

  .sidebar__header {
    @apply text-xs font-semibold uppercase tracking-wide text-current;
  }

  .sidebar__content {
    @apply mt-2 flex flex-col gap-1.5;
  }

  .sidebar__content--search {
    @apply border-t border-slate-200 pt-2 dark:border-slate-700;
  }

  .sidebar__content--collapsed {
    @apply hidden;
  }

  .sidebar__tree,
  .sidebar__tree ul {
    @apply m-0 list-none pl-3;
  }

  .sidebar__tree > li {
    @apply mb-0.5;
  }

  .sidebar__tree li {
    @apply cursor-pointer rounded-md px-2 py-1 text-xs text-slate-600 transition-colors hover:bg-blue-100 hover:text-blue-700 dark:text-slate-200 dark:hover:bg-slate-800 dark:hover:text-blue-300;
  }

  .sidebar__tree-file {
    @apply cursor-pointer rounded-md px-2 py-1 text-xs text-slate-600 transition-colors hover:bg-blue-100 hover:text-blue-700 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-blue-500 dark:text-slate-200 dark:hover:bg-slate-800 dark:hover:text-blue-300;
  }

  .sidebar__tree-empty {
    @apply px-2 py-1 text-xs italic text-slate-400 dark:text-slate-500;
  }

  .sidebar__label {
    @apply text-[0.65rem] font-medium uppercase tracking-wide text-slate-400 dark:text-slate-500;
  }

  .sidebar__search {
    @apply rounded-md border border-slate-200 bg-white px-2.5 py-1.5 text-xs text-slate-700 shadow-sm focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-blue-500 dark:border-slate-700 dark:bg-slate-800 dark:text-slate-100;
  }

  .workspace__separator {
    @apply relative bg-blue-200 transition-colors dark:bg-slate-700;
  }

  .workspace__separator::after {
    content: '';
    @apply absolute inset-0 bg-blue-300 opacity-0 transition-opacity dark:bg-slate-600;
  }

  [data-dragging='true'] .workspace__separator::after,
  .workspace__separator:hover::after,
  .workspace__separator:focus-visible::after {
    @apply opacity-100;
  }

  .workspace__separator--vertical {
    @apply w-2 cursor-col-resize;
  }

  .workspace__separator--horizontal {
    @apply h-1.5 cursor-row-resize;
  }

  .panels {
    @apply min-h-0 overflow-hidden bg-transparent;
  }

  .split-grid {
    @apply grid h-full gap-3 overflow-auto p-3;
    grid-template-columns: minmax(0, 1fr);
    grid-template-rows: minmax(0, 1fr);
  }

  .split-grid--single {
    grid-template-columns: minmax(0, 1fr);
    grid-template-rows: minmax(0, 1fr);
  }

  .split-grid--vertical {
    grid-template-columns: repeat(2, minmax(0, 1fr));
    grid-template-rows: minmax(0, 1fr);
  }

  .split-grid--horizontal {
    grid-template-columns: minmax(0, 1fr);
    grid-template-rows: repeat(2, minmax(0, 1fr));
  }

  .split-node {
    @apply flex min-h-0 flex-col overflow-hidden rounded-lg border border-slate-200 bg-white shadow-md dark:border-slate-800 dark:bg-slate-900/90;
  }

  .split-node--active {
    @apply border-blue-400 shadow-lg ring-2 ring-blue-300/40 dark:border-blue-400 dark:ring-blue-500/40;
  }

  .tab-bar {
    @apply flex flex-shrink-0 items-center gap-1.5 overflow-x-auto border-b border-slate-200 bg-slate-100 px-2 py-1.5 text-xs dark:border-slate-700 dark:bg-slate-900;
  }

  .tab-bar__tab-container {
    @apply flex items-center gap-1;
  }

  .tab-bar__tab {
    @apply rounded-md px-2.5 py-1 text-xs font-medium text-slate-600 transition-colors hover:bg-blue-100 hover:text-blue-700 dark:text-slate-200 dark:hover:bg-slate-800 dark:hover:text-blue-300;
  }

  .tab-bar__tab--active {
    @apply bg-blue-500 text-white shadow-sm dark:bg-blue-500;
  }

  .tab-bar__tab--add {
    @apply cursor-not-allowed opacity-40; /* まだ未実装のため無効扱い */
  }

  .tab-bar__tab-title {
    @apply max-w-[10rem] truncate;
  }

  .tab-bar__tab-dirty {
    @apply ml-1 text-amber-500 dark:text-amber-300;
  }

  .tab-bar__tab-close {
    @apply rounded-md px-1.5 py-1 text-xs text-slate-500 transition-colors hover:bg-rose-100 hover:text-rose-600 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-1 focus-visible:outline-rose-500 dark:text-slate-300 dark:hover:bg-rose-500/20 dark:hover:text-rose-200;
  }

  .tab-bar__spacer {
    @apply flex-1;
  }

  .tab-bar__empty {
    @apply px-2 text-slate-500 dark:text-slate-400;
  }

  .tab-bar__close {
    @apply rounded-md px-2 py-1 text-xs font-medium text-slate-600 transition-colors hover:bg-rose-100 hover:text-rose-700 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-rose-500 dark:text-slate-200 dark:hover:bg-rose-500/20 dark:hover:text-rose-300;
  }

  .panel-header {
    @apply flex items-center justify-between border-b border-slate-200 bg-white px-3 py-2 text-xs font-medium dark:border-slate-700 dark:bg-slate-900;
  }

  .panel-toolbar {
    @apply flex flex-shrink-0 flex-wrap items-center gap-2 border-b border-slate-200 bg-white px-3 py-1.5 text-xs dark:border-slate-700 dark:bg-slate-900;
  }

  .panel-toolbar__group {
    @apply flex items-center gap-1.5;
  }

  .panel-toolbar__button {
    @apply rounded-md bg-slate-100 px-2.5 py-1 text-xs font-medium text-slate-700 transition-colors hover:bg-blue-100 hover:text-blue-700 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-blue-500 dark:bg-slate-800 dark:text-slate-200 dark:hover:bg-slate-700;
  }

  .panel-toolbar__button--active {
    @apply bg-blue-500 text-white hover:bg-blue-600 dark:bg-blue-500 dark:hover:bg-blue-600;
  }

  .panel-toolbar__input {
    @apply rounded-md border border-slate-200 bg-white px-2.5 py-1 text-xs text-slate-700 shadow-sm focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-blue-500 dark:border-slate-700 dark:bg-slate-800 dark:text-slate-100;
  }

  .panel-toolbar__select-wrapper {
    @apply relative;
  }

  .panel-toolbar__select {
    @apply rounded-md border border-slate-200 bg-white px-2 py-1 text-xs text-slate-700 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-blue-500 dark:border-slate-700 dark:bg-slate-800 dark:text-slate-100;
  }

  .panel-toolbar__spacer {
    @apply flex-1;
  }

  .panel-toolbar__meta {
    @apply text-[0.65rem] text-slate-500 dark:text-slate-400;
  }

  .panel-cards {
    @apply flex-1 min-h-0 flex flex-col gap-2.5 overflow-y-auto overflow-x-hidden bg-slate-50 p-3 dark:bg-slate-950;
  }

  .panel-cards__empty {
    @apply rounded-md border border-dashed border-slate-300 px-3 py-6 text-center text-xs text-slate-500 dark:border-slate-700 dark:text-slate-400;
  }

  .card-list-item {
    @apply flex flex-col gap-1;
  }

  .card__drop-indicator {
    @apply relative h-1 rounded-full bg-blue-300/80 transition-all duration-150 ease-out dark:bg-blue-500/70;
  }

  .card__drop-indicator--before,
  .card__drop-indicator--after {
    @apply mx-3;
  }

  .card__drop-indicator-label {
    @apply absolute -top-5 rounded-full bg-white px-2 py-0.5 text-[0.65rem] font-semibold text-blue-600 shadow-sm dark:bg-slate-900 dark:text-blue-200;
  }

  .card--dragging {
    @apply opacity-60;
  }

  .card--drop-child {
    @apply ring-2 ring-blue-400/60 dark:ring-blue-500/70;
  }

  .card__drop-child-overlay {
    @apply pointer-events-none absolute inset-2 flex items-center justify-center rounded-lg border-2 border-dashed border-blue-400/70 bg-blue-50/80 text-sm font-semibold text-blue-700 dark:border-blue-400/60 dark:bg-blue-900/40 dark:text-blue-100;
  }

  .card__drop-child-label {
    @apply text-[0.75rem] tracking-wide;
  }

  .card--highlighted {
    animation: card-highlight 1.2s ease-out;
  }

  @keyframes card-highlight {
    0% {
      box-shadow: 0 0 0 0 rgba(59, 130, 246, 0.45);
    }
    100% {
      box-shadow: 0 0 0 14px rgba(59, 130, 246, 0);
    }
  }

  .panel-context-menu {
    @apply fixed z-50 min-w-[180px] rounded-md border border-slate-200 bg-white py-1 shadow-xl dark:border-slate-700 dark:bg-slate-900;
  }

  .panel-context-menu__item {
    @apply flex w-full items-center gap-2 px-3 py-1.5 text-left text-xs text-slate-700 transition-colors hover:bg-blue-50 hover:text-blue-700 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-blue-500 dark:text-slate-100 dark:hover:bg-slate-800;
  }

  .panel-context-menu__item:disabled,
  .panel-context-menu__item[aria-disabled='true'] {
    @apply cursor-not-allowed opacity-40 hover:bg-transparent hover:text-inherit;
  }

  .panel-context-menu__section {
    @apply flex flex-col gap-1;
  }

  .panel-context-menu__divider {
    @apply my-1 border-t border-slate-200 dark:border-slate-700;
  }

  .settings-modal__backdrop {
    @apply fixed inset-0 z-50 bg-slate-900/70 backdrop-blur-sm;
  }

  .settings-modal {
    @apply absolute left-1/2 top-1/2 flex w-[640px] max-w-[calc(100%-2rem)] max-h-[70vh] -translate-x-1/2 -translate-y-1/2 flex-col overflow-hidden rounded-2xl border border-slate-200 bg-white shadow-2xl dark:border-slate-700 dark:bg-slate-900;
  }

  .settings-modal__header {
    @apply flex items-start justify-between gap-4 border-b border-slate-200 px-6 py-4 dark:border-slate-800;
  }

  .settings-modal__header h2 {
    @apply text-base font-semibold;
  }

  .settings-modal__subtitle {
    @apply text-xs text-slate-500 dark:text-slate-400;
  }

  .settings-close-button {
    @apply rounded-full border border-transparent p-1 text-slate-500 transition hover:border-slate-300 hover:text-slate-700 dark:text-slate-300 dark:hover:border-slate-600;
  }

  .settings-modal__body {
    @apply flex flex-1 min-h-0 divide-x divide-slate-200 dark:divide-slate-800;
  }

  .settings-modal__nav {
    @apply flex w-40 min-w-[140px] flex-col gap-1 bg-slate-50 p-4 text-left text-sm dark:bg-slate-950;
  }

  .settings-nav__item {
    @apply flex items-center gap-2 rounded-md px-3 py-2 text-left text-slate-600 transition hover:bg-blue-100 hover:text-blue-700 dark:text-slate-300 dark:hover:bg-slate-800;
  }

  .settings-nav__item--active {
    @apply bg-blue-500 text-white hover:bg-blue-600 dark:bg-blue-500;
  }

  .settings-modal__content {
    @apply flex-1 overflow-auto p-6 text-sm;
  }

  .settings-modal__section {
    @apply flex flex-col gap-4;
  }

  .settings-field {
    @apply flex flex-col gap-1;
  }

  .settings-field--inline {
    @apply flex-row items-center justify-between;
  }

  .settings-field__label {
    @apply text-xs font-semibold uppercase tracking-wide text-slate-500 dark:text-slate-400;
  }

  .settings-field__note {
    @apply text-xs text-slate-500 dark:text-slate-400;
  }

  .settings-field__error {
    @apply text-xs text-rose-500;
  }

  .settings-radio-group {
    @apply flex gap-3;
  }

  .settings-radio {
    @apply flex items-center gap-2 rounded-full border border-slate-200 px-3 py-1 text-xs transition hover:border-blue-400 dark:border-slate-700 dark:hover:border-blue-400;
  }

  .settings-radio input {
    @apply text-blue-500;
  }

  .settings-checkbox {
    @apply flex items-center gap-2 text-sm;
  }

  .settings-modal__footer {
    @apply flex items-center justify-between gap-4 border-t border-slate-200 px-6 py-4 text-xs dark:border-slate-800;
  }

  .settings-modal__actions {
    @apply flex gap-2;
  }

  .settings-primary-button {
    @apply rounded-md bg-blue-600 px-4 py-2 text-sm font-semibold text-white transition hover:bg-blue-500 disabled:cursor-not-allowed disabled:bg-slate-400;
  }

  .settings-secondary-button {
    @apply rounded-md border border-slate-300 px-4 py-2 text-sm font-medium text-slate-700 hover:bg-slate-100 disabled:cursor-not-allowed disabled:opacity-50 dark:border-slate-600 dark:text-slate-100 dark:hover:bg-slate-800;
  }

  .settings-modal__error {
    @apply text-xs text-rose-500;
  }

  .settings-loading {
    @apply text-sm text-slate-500 dark:text-slate-400;
  }

  .settings-recent-list {
    @apply max-h-28 overflow-auto text-xs text-slate-500 dark:text-slate-400;
  }

  .settings-recent-list li {
    @apply truncate;
  }

  .card {
    @apply relative flex cursor-pointer select-none flex-col gap-2 rounded-lg border border-transparent bg-white/80 p-3 shadow-sm transition-all hover:border-blue-200 hover:shadow-md focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-blue-500 dark:bg-slate-900/80;
  }

  .card--active {
    @apply border-l-4 border-blue-500 bg-blue-50/70 shadow-lg dark:bg-slate-800/80;
  }

  .card--compact {
    @apply flex-row items-center gap-2 py-1.5;
  }

  .card--compact .card__header {
    @apply contents;
  }

  .card--compact .card__body,
  .card--compact .card__footer {
    @apply hidden;
  }

  .card__header {
    @apply flex items-center gap-2 text-xs font-semibold;
  }

  .card__connector {
    @apply text-base text-slate-400 dark:text-slate-600;
  }

  .card__connector--active {
    @apply text-blue-400;
  }

  .card__icon {
    @apply text-sm;
  }

  .card__status {
    @apply rounded-full px-2.5 py-0.5 text-[0.65rem] font-semibold uppercase tracking-wide;
  }

  .card__status--approved {
    @apply bg-emerald-100 text-emerald-600 dark:bg-emerald-500/20 dark:text-emerald-300;
  }

  .card__status--draft {
    @apply bg-slate-200 text-slate-600 dark:bg-slate-600/30 dark:text-slate-200;
  }

  .card__status--review {
    @apply bg-amber-100 text-amber-600 dark:bg-amber-500/20 dark:text-amber-200;
  }

  .card__status--deprecated {
    @apply bg-rose-100 text-rose-600 dark:bg-rose-500/20 dark:text-rose-200;
  }

  .card__title {
    @apply flex-1 text-sm font-semibold text-slate-800 dark:text-slate-100;
  }

  .card__title--truncate {
    @apply overflow-hidden text-ellipsis whitespace-nowrap;
  }

  .card__body {
    @apply text-xs leading-relaxed text-slate-600 dark:text-slate-200;
  }

  .card__footer {
    @apply text-[0.65rem] text-slate-400 dark:text-slate-500;
  }

  .card__expand-button {
    @apply flex h-4 w-4 flex-shrink-0 items-center justify-center rounded text-xs text-slate-500 transition-colors hover:bg-slate-200 hover:text-slate-700 dark:text-slate-400 dark:hover:bg-slate-700 dark:hover:text-slate-200;
  }

  .card__expand-placeholder {
    @apply inline-block h-4 w-4 flex-shrink-0;
  }

  .panel-placeholder {
    @apply flex flex-1 items-center justify-center bg-slate-100 px-3 py-6 text-xs text-slate-500 dark:bg-slate-900 dark:text-slate-400;
  }

  .log-area {
    @apply flex flex-col border-t border-slate-200 bg-white shadow-inner dark:border-slate-800 dark:bg-slate-900;
  }

  .log-area__header {
    @apply flex items-center justify-between border-b border-slate-200 px-3 py-1.5 text-xs font-semibold dark:border-slate-800;
  }

  .log-area__clear {
    @apply rounded-md bg-rose-100 px-2.5 py-1 text-xs font-medium text-rose-600 transition-colors hover:bg-rose-200 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-rose-500 dark:bg-rose-500/20 dark:text-rose-200;
  }

  .log-area__body {
    @apply flex-1 overflow-auto bg-slate-50 px-3 py-2.5 font-mono text-[0.7rem] leading-relaxed text-slate-600 dark:bg-slate-950 dark:text-slate-300;
  }

  .status-bar {
    @apply flex items-center justify-between gap-3 border-t border-slate-200 bg-slate-100 px-3 text-[0.65rem] uppercase tracking-wide text-slate-500 dark:border-slate-800 dark:bg-slate-900 dark:text-slate-400;
  }

  .status-bar__section {
    @apply flex items-center gap-4;
  }

  .status-bar__section--right {
    @apply justify-end;
  }

  .notification-center {
    @apply fixed right-4 top-16 z-50 flex w-80 flex-col gap-2;
  }

  .notification {
    @apply flex items-start gap-2 rounded-lg border px-3 py-2 text-xs shadow-lg backdrop-blur;
  }

  .notification__message {
    @apply flex-1 leading-normal;
  }

  .notification__close {
    @apply rounded-full px-2 py-0.5 text-xs font-semibold transition-colors hover:bg-white/20 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-blue-400;
  }

  /* 分割コンテナ関連スタイル */
  .split-container {
    @apply relative h-full w-full;
  }

  .split-container--horizontal {
    @apply flex flex-col;
  }

  .split-container--vertical {
    @apply flex flex-row;
  }

  .split-leaf {
    @apply h-full w-full overflow-hidden;
  }

  .splitter {
    @apply relative bg-blue-200 transition-colors dark:bg-slate-700;
  }

  .splitter::after {
    content: '';
    @apply absolute inset-0 bg-blue-300 opacity-0 transition-opacity dark:bg-slate-600;
  }

  .splitter:hover::after,
  .splitter:active::after {
    @apply opacity-100;
  }

  .splitter--horizontal {
    @apply h-1 cursor-row-resize;
  }

  .splitter--vertical {
    @apply w-1 cursor-col-resize;
  }

  .trace-connector-layer {
    @apply absolute inset-0 z-10 pointer-events-none;
  }

  .trace-connector-layer__svg {
    @apply h-full w-full;
  }

  .trace-connector-path {
    fill: none;
    stroke: rgba(96, 165, 250, 0.7); /* tailwind blue-400 */
    stroke-width: 2;
    transition: stroke 0.2s ease;
  }

  .trace-connector-path--placeholder {
    stroke-dasharray: 8 6;
  }

  .trace-connector-path--trace {
    stroke: rgba(96, 165, 250, 0.9);
  }

  .trace-connector-path--refines {
    stroke: rgba(16, 185, 129, 0.85); /* emerald */
  }

  .trace-connector-path--tests {
    stroke: rgba(249, 115, 22, 0.85); /* orange */
    stroke-dasharray: 6 4;
  }

  .trace-connector-path--duplicates {
    stroke: rgba(244, 63, 94, 0.8); /* rose */
    stroke-width: 2.5;
  }

  .trace-connector-path--highlight {
    stroke-width: 3.2;
    filter: drop-shadow(0 0 4px rgba(96, 165, 250, 0.5));
  }

  .trace-connector-path--dir-forward {
    marker-end: url(#trace-connector-arrow);
  }

  .trace-connector-path--dir-backward {
    marker-start: url(#trace-connector-arrow);
  }

  .trace-connector-path--dir-bidirectional {
    marker-start: url(#trace-connector-arrow);
    marker-end: url(#trace-connector-arrow);
  }
}
