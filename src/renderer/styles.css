@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  html {
    @apply h-full;
  }

  body {
    @apply h-full bg-slate-50 text-slate-900 transition-colors duration-300 ease-out dark:bg-slate-950 dark:text-slate-100;
  }

  #root {
    @apply h-full;
  }

  button,
  input {
    @apply font-sans;
  }
}

@layer components {
  .app-shell {
    @apply grid min-h-screen grid-rows-[32px_40px_minmax(0,1fr)_24px] bg-slate-50 text-slate-900 transition-colors duration-300 ease-out dark:bg-slate-950 dark:text-slate-100;
  }

  .menu-bar {
    @apply flex items-center gap-3 border-b border-slate-200 bg-slate-100 px-4 text-sm font-medium dark:border-slate-800 dark:bg-slate-900;
  }

  .menu-bar__items {
    @apply flex gap-3;
  }

  .menu-bar__item {
    @apply rounded-md px-3 py-1.5 text-sm font-medium text-slate-700 transition-colors hover:bg-blue-100 hover:text-blue-700 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-blue-500 dark:text-slate-100 dark:hover:bg-slate-800 dark:hover:text-blue-300;
  }

  .top-toolbar {
    @apply flex items-center gap-4 border-b border-slate-200 bg-slate-100 px-4 text-sm dark:border-slate-800 dark:bg-slate-900;
  }

  .toolbar-group {
    @apply flex items-center gap-2 border-r border-slate-200 pr-4 last:border-r-0 last:pr-0 dark:border-slate-700;
  }

  .toolbar-button {
    @apply inline-flex items-center gap-2 rounded-md bg-blue-100 px-3 py-1.5 text-sm font-medium text-blue-700 transition-colors hover:bg-blue-200 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-blue-500 dark:bg-slate-800 dark:text-blue-200 dark:hover:bg-slate-700;
  }

  .workspace {
    @apply grid min-h-0 bg-gradient-to-br from-slate-50 via-slate-100 to-slate-200 dark:from-slate-950 dark:via-slate-900 dark:to-slate-900;
  }

  .workspace__content {
    @apply grid min-h-0;
  }

  .sidebar {
    @apply flex min-w-0 flex-col gap-4 overflow-hidden border-r border-slate-200 bg-white p-4 shadow-inner dark:border-slate-800 dark:bg-slate-900;
  }

  .sidebar__section {
    @apply flex flex-col gap-2;
  }

  .sidebar__section--search {
    @apply mt-auto border-t border-slate-200 pt-3 dark:border-slate-700;
  }

  .sidebar__header {
    @apply text-sm font-semibold uppercase tracking-wide text-slate-500 dark:text-slate-300;
  }

  .sidebar__tree,
  .sidebar__tree ul {
    @apply m-0 list-none pl-4;
  }

  .sidebar__tree > li {
    @apply mb-1;
  }

  .sidebar__tree li {
    @apply cursor-pointer rounded-md px-2 py-1 text-sm text-slate-600 transition-colors hover:bg-blue-100 hover:text-blue-700 dark:text-slate-200 dark:hover:bg-slate-800 dark:hover:text-blue-300;
  }

  .sidebar__label {
    @apply text-xs font-medium uppercase tracking-wide text-slate-400 dark:text-slate-500;
  }

  .sidebar__search {
    @apply rounded-md border border-slate-200 bg-white px-3 py-2 text-sm text-slate-700 shadow-sm focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-blue-500 dark:border-slate-700 dark:bg-slate-800 dark:text-slate-100;
  }

  .workspace__separator {
    @apply relative bg-blue-200 transition-colors dark:bg-slate-700;
  }

  .workspace__separator::after {
    content: '';
    @apply absolute inset-0 bg-blue-300 opacity-0 transition-opacity dark:bg-slate-600;
  }

  [data-dragging='true'] .workspace__separator::after,
  .workspace__separator:hover::after,
  .workspace__separator:focus-visible::after {
    @apply opacity-100;
  }

  .workspace__separator--vertical {
    @apply w-2 cursor-col-resize;
  }

  .workspace__separator--horizontal {
    @apply h-1.5 cursor-row-resize;
  }

  .panels {
    @apply min-h-0 overflow-hidden bg-transparent;
  }

  .split-grid {
    @apply grid h-full gap-4 overflow-auto p-4 md:grid-cols-2;
  }

  .split-node {
    @apply flex min-h-0 flex-col overflow-hidden rounded-xl border border-slate-200 bg-white shadow-xl dark:border-slate-800 dark:bg-slate-900/90;
  }

  .tab-bar {
    @apply flex items-center gap-2 overflow-x-auto border-b border-slate-200 bg-slate-100 px-2 py-2 text-sm dark:border-slate-700 dark:bg-slate-900;
  }

  .tab-bar__tab {
    @apply rounded-md px-3 py-1 text-sm font-medium text-slate-600 transition-colors hover:bg-blue-100 hover:text-blue-700 dark:text-slate-200 dark:hover:bg-slate-800 dark:hover:text-blue-300;
  }

  .tab-bar__tab--active {
    @apply bg-blue-500 text-white shadow-sm dark:bg-blue-500;
  }

  .panel-header {
    @apply flex items-center justify-between border-b border-slate-200 bg-white px-4 py-3 text-sm font-medium dark:border-slate-700 dark:bg-slate-900;
  }

  .panel-header__title {
    @apply text-base font-semibold;
  }

  .panel-header__meta {
    @apply text-xs uppercase tracking-wide text-slate-400 dark:text-slate-500;
  }

  .panel-toolbar {
    @apply flex flex-wrap items-center justify-between gap-3 border-b border-slate-200 bg-white px-4 py-2 text-sm dark:border-slate-700 dark:bg-slate-900;
  }

  .panel-toolbar__group {
    @apply flex items-center gap-2;
  }

  .panel-toolbar__button {
    @apply rounded-md bg-slate-100 px-3 py-1.5 text-sm font-medium text-slate-700 transition-colors hover:bg-blue-100 hover:text-blue-700 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-blue-500 dark:bg-slate-800 dark:text-slate-200 dark:hover:bg-slate-700;
  }

  .panel-toolbar__input {
    @apply rounded-md border border-slate-200 bg-white px-3 py-1.5 text-sm text-slate-700 shadow-sm focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-blue-500 dark:border-slate-700 dark:bg-slate-800 dark:text-slate-100;
  }

  .panel-cards {
    @apply flex flex-col gap-4 overflow-auto bg-slate-50 p-4 dark:bg-slate-950;
  }

  .card {
    @apply flex cursor-pointer select-none flex-col gap-3 rounded-xl border border-transparent bg-white/80 p-4 shadow-sm transition-all hover:border-blue-200 hover:shadow-md focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-blue-500 dark:bg-slate-900/80;
  }

  .card--active {
    @apply border-l-4 border-blue-500 bg-blue-50/70 shadow-lg dark:bg-slate-800/80;
  }

  .card__header {
    @apply flex items-center gap-3 text-sm font-semibold;
  }

  .card__connector {
    @apply text-lg text-slate-400 dark:text-slate-600;
  }

  .card__connector--active {
    @apply text-blue-400;
  }

  .card__icon {
    @apply text-base;
  }

  .card__status {
    @apply rounded-full px-3 py-1 text-xs font-semibold uppercase tracking-wide;
  }

  .card__status--approved {
    @apply bg-emerald-100 text-emerald-600 dark:bg-emerald-500/20 dark:text-emerald-300;
  }

  .card__status--draft {
    @apply bg-slate-200 text-slate-600 dark:bg-slate-600/30 dark:text-slate-200;
  }

  .card__status--review {
    @apply bg-amber-100 text-amber-600 dark:bg-amber-500/20 dark:text-amber-200;
  }

  .card__status--deprecated {
    @apply bg-rose-100 text-rose-600 dark:bg-rose-500/20 dark:text-rose-200;
  }

  .card__title {
    @apply flex-1 text-base font-semibold text-slate-800 dark:text-slate-100;
  }

  .card__body {
    @apply text-sm leading-relaxed text-slate-600 dark:text-slate-200;
  }

  .card__footer {
    @apply text-xs text-slate-400 dark:text-slate-500;
  }

  .panel-placeholder {
    @apply flex flex-1 items-center justify-center bg-slate-100 px-4 py-8 text-sm text-slate-500 dark:bg-slate-900 dark:text-slate-400;
  }

  .log-area {
    @apply flex flex-col border-t border-slate-200 bg-white shadow-inner dark:border-slate-800 dark:bg-slate-900;
  }

  .log-area__header {
    @apply flex items-center justify-between border-b border-slate-200 px-4 py-2 text-sm font-semibold dark:border-slate-800;
  }

  .log-area__clear {
    @apply rounded-md bg-rose-100 px-3 py-1.5 text-sm font-medium text-rose-600 transition-colors hover:bg-rose-200 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-rose-500 dark:bg-rose-500/20 dark:text-rose-200;
  }

  .log-area__body {
    @apply flex-1 overflow-auto bg-slate-50 px-4 py-3 font-mono text-xs leading-relaxed text-slate-600 dark:bg-slate-950 dark:text-slate-300;
  }

  .status-bar {
    @apply flex items-center justify-between gap-4 border-t border-slate-200 bg-slate-100 px-4 text-xs uppercase tracking-wide text-slate-500 dark:border-slate-800 dark:bg-slate-900 dark:text-slate-400;
  }

  .status-bar__section {
    @apply flex items-center gap-6;
  }

  .status-bar__section--right {
    @apply justify-end;
  }
}
